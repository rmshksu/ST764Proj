<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Infection Data | Modeling the Spread of Norovirus on Commercial Cruise Voyages in R</title>
  <meta name="description" content="this is the tutorial for reproducing the code used in the STAT764 final project by Robert Sholl, Kelechi Igwe, and Stephen Edache." />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="Infection Data | Modeling the Spread of Norovirus on Commercial Cruise Voyages in R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="this is the tutorial for reproducing the code used in the STAT764 final project by Robert Sholl, Kelechi Igwe, and Stephen Edache." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Infection Data | Modeling the Spread of Norovirus on Commercial Cruise Voyages in R" />
  
  <meta name="twitter:description" content="this is the tutorial for reproducing the code used in the STAT764 final project by Robert Sholl, Kelechi Igwe, and Stephen Edache." />
  

<meta name="author" content="Robert Sholl, Kelechi Igwe, Stephen Edache" />


<meta name="date" content="2024-04-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="acquisition.html"/>
<link rel="next" href="temporal-data.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Modeling the Spread of Norovirus on Commercial Cruise Voyages in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a></li>
<li class="part"><span><b>I Introduction</b></span></li>
<li class="chapter" data-level="" data-path="background.html"><a href="background.html"><i class="fa fa-check"></i>Background</a>
<ul>
<li class="chapter" data-level="" data-path="background.html"><a href="background.html#project-intent"><i class="fa fa-check"></i>Project Intent</a></li>
<li class="chapter" data-level="" data-path="background.html"><a href="background.html#structure"><i class="fa fa-check"></i>Structure</a></li>
<li class="chapter" data-level="" data-path="simplifying-assumptions.html"><a href="simplifying-assumptions.html"><i class="fa fa-check"></i>Simplifying Assumptions</a></li>
</ul></li>
<li class="part"><span><b>II Data</b></span></li>
<li class="chapter" data-level="" data-path="data-acquisition-and-preparation.html"><a href="data-acquisition-and-preparation.html"><i class="fa fa-check"></i>Data Acquisition and Preparation</a>
<ul>
<li class="chapter" data-level="" data-path="acquisition.html"><a href="acquisition.html"><i class="fa fa-check"></i>Acquisition</a></li>
<li class="chapter" data-level="" data-path="infection-data.html"><a href="infection-data.html"><i class="fa fa-check"></i>Infection Data</a>
<ul>
<li class="chapter" data-level="" data-path="infection-data.html"><a href="infection-data.html#infection-totals-and-rate"><i class="fa fa-check"></i>Infection Totals and Rate</a></li>
<li class="chapter" data-level="" data-path="infection-data.html"><a href="infection-data.html#sectioning-off-data"><i class="fa fa-check"></i>Sectioning Off Data</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="temporal-data.html"><a href="temporal-data.html"><i class="fa fa-check"></i>Temporal Data</a>
<ul>
<li class="chapter" data-level="" data-path="temporal-data.html"><a href="temporal-data.html#voyage-duration"><i class="fa fa-check"></i>Voyage Duration</a></li>
<li class="chapter" data-level="" data-path="temporal-data.html"><a href="temporal-data.html#voyage-seasons"><i class="fa fa-check"></i>Voyage Seasons</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="spatial-data.html"><a href="spatial-data.html"><i class="fa fa-check"></i>Spatial Data</a>
<ul>
<li class="chapter" data-level="" data-path="spatial-data.html"><a href="spatial-data.html#liners-and-ships"><i class="fa fa-check"></i>Liners and Ships</a></li>
<li class="chapter" data-level="" data-path="spatial-data.html"><a href="spatial-data.html#size-intervals"><i class="fa fa-check"></i>Size Intervals</a></li>
<li class="chapter" data-level="" data-path="spatial-data.html"><a href="spatial-data.html#ports-of-origin"><i class="fa fa-check"></i>Ports of Origin</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="final-preparations.html"><a href="final-preparations.html"><i class="fa fa-check"></i>Final Preparations</a></li>
</ul></li>
<li class="part"><span><b>III Model Fitting</b></span></li>
<li class="chapter" data-level="" data-path="model-selection.html"><a href="model-selection.html"><i class="fa fa-check"></i>Model selection</a>
<ul>
<li class="chapter" data-level="" data-path="intercept-only-model.html"><a href="intercept-only-model.html"><i class="fa fa-check"></i>Intercept-Only Model</a></li>
<li class="chapter" data-level="" data-path="binomial-regression.html"><a href="binomial-regression.html"><i class="fa fa-check"></i>Binomial Regression</a></li>
<li class="chapter" data-level="" data-path="program-validation.html"><a href="program-validation.html"><i class="fa fa-check"></i>Program Validation</a>
<ul>
<li class="chapter" data-level="" data-path="program-validation.html"><a href="program-validation.html#troubleshooting"><i class="fa fa-check"></i>Troubleshooting</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV Model Evaluation</b></span></li>
<li class="chapter" data-level="" data-path="model-checking.html"><a href="model-checking.html"><i class="fa fa-check"></i>Model Checking</a>
<ul>
<li class="chapter" data-level="" data-path="regression-diagnostics.html"><a href="regression-diagnostics.html"><i class="fa fa-check"></i>Regression Diagnostics</a></li>
<li class="chapter" data-level="" data-path="graphical-diagnostics.html"><a href="graphical-diagnostics.html"><i class="fa fa-check"></i>Graphical Diagnostics</a></li>
<li class="chapter" data-level="" data-path="within-sample-validation.html"><a href="within-sample-validation.html"><i class="fa fa-check"></i>Within-Sample Validation</a></li>
<li class="chapter" data-level="" data-path="forecasting.html"><a href="forecasting.html"><i class="fa fa-check"></i>Forecasting</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="_blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Modeling the Spread of Norovirus on Commercial Cruise Voyages in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="infection-data" class="section level2 unnumbered hasAnchor">
<h2>Infection Data<a href="infection-data.html#infection-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Place the files into an accessible folder of the RStudio environment you’re using. The code string below will read them into R as named, accessible units.</p>
<p>In order to get the code to function, you will have to rename the file paths. An easy way to ensure the file path is correct and readable from your project environment you can write the read.csv(““) command and press ‘Tab’ while the space between the two quotations is selected. This should show a list of files available to the environment that you can parse through to find what you’re trying to connect to the command.</p>
<p>You will need the following packages for all data preparation, the code block below will make them available to your project environment post-intallation:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="infection-data.html#cb1-1" tabindex="-1"></a>cru.noro<span class="fl">.14</span> <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;_book/_main_files/.csv files/Cruise_2014.csv&quot;</span>)</span>
<span id="cb1-2"><a href="infection-data.html#cb1-2" tabindex="-1"></a>cru.noro<span class="fl">.15</span> <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;_book/_main_files/.csv files/Cruise_2015.csv&quot;</span>)</span>
<span id="cb1-3"><a href="infection-data.html#cb1-3" tabindex="-1"></a>cru.noro<span class="fl">.16</span> <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;_book/_main_files/.csv files/Cruise_2016.csv&quot;</span>)</span>
<span id="cb1-4"><a href="infection-data.html#cb1-4" tabindex="-1"></a>cru.noro<span class="fl">.17</span> <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;_book/_main_files/.csv files/Cruise_2017.csv&quot;</span>)</span>
<span id="cb1-5"><a href="infection-data.html#cb1-5" tabindex="-1"></a>cru.noro<span class="fl">.18</span> <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;_book/_main_files/.csv files/Cruise_2018.csv&quot;</span>)</span>
<span id="cb1-6"><a href="infection-data.html#cb1-6" tabindex="-1"></a>cru.noro<span class="fl">.19</span> <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;_book/_main_files/.csv files/Cruise_2019.csv&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="infection-data.html#cb2-1" tabindex="-1"></a><span class="fu">head</span>(cru.noro<span class="fl">.19</span>)</span></code></pre></div>
<pre><code>##                 Column1       Column2              Column3            Column4
## 1           Cruise Line   Cruise Ship Sailing_Dates(Start) Sailing_Dates(End)
## 2 Norwegian Cruise Line Norwegian Joy            11/8/2019         11/24/2019
## 3          Aida Cruises      AIDAdiva            10/3/2019         10/13/2019
## 4          Aida Cruises      AIDAluna            9/28/2019         10/12/2019
## 5          Aida Cruises      AIDAdiva             9/5/2019          9/23/2019
## 6  Carnival Cruise Line      Conquest             9/7/2019          9/14/2019
##           Column5                                      Column6
## 1 Causative Agent Proportion_Case_Counts_Numerator(Passengers)
## 2         Unknown                                          127
## 3       Norovirus                                           83
## 4       Norovirus                                           85
## 5       Norovirus                                          117
## 6       Norovirus                                           17
##                                          Column7                   Column8
## 1 Proportion_Case_Counts_Denominator(Passengers) %_Case_Counts(Passengers)
## 2                                          3,602                      3.53
## 3                                          2,251                      3.70
## 4                                          2,166                      3.90
## 5                                          2,055                      5.70
## 6                                          3,241                      0.52
##                                  Column9
## 1 Proportion_Case_Counts_Numerator(Crew)
## 2                                      6
## 3                                     10
## 4                                     10
## 5                                      8
## 6                                     35
##                                   Column10            Column11
## 1 Proportion_Case_Counts_Denominator(Crew) %_Case_Counts(Crew)
## 2                                    1,769                0.34
## 3                                      610                1.60
## 4                                      612                1.60
## 5                                      610                1.30
## 6                                     1158                3.02</code></pre>
<p>Reading through the files you will find that there is a large amount of excess information, we want to isolate the numerator, (confirmed infected), and denominator, (total population), columns in each file so that we can begin working with the rates of infection.</p>
<p>It’s convenient to place the data we need into data frames as well, so we can accomplish two goals with one action per sheet by defining the columns we want as columns in a new data frame:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="infection-data.html#cb4-1" tabindex="-1"></a>df.cru<span class="fl">.14</span> <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">pcn =</span> cru.noro<span class="fl">.14</span>[,<span class="dv">6</span>],</span>
<span id="cb4-2"><a href="infection-data.html#cb4-2" tabindex="-1"></a>                        <span class="at">pcd =</span> cru.noro<span class="fl">.14</span>[,<span class="dv">7</span>],</span>
<span id="cb4-3"><a href="infection-data.html#cb4-3" tabindex="-1"></a>                        <span class="at">ccn =</span> cru.noro<span class="fl">.14</span>[,<span class="dv">10</span>],</span>
<span id="cb4-4"><a href="infection-data.html#cb4-4" tabindex="-1"></a>                        <span class="at">ccd =</span> cru.noro<span class="fl">.14</span>[,<span class="dv">11</span>])</span>
<span id="cb4-5"><a href="infection-data.html#cb4-5" tabindex="-1"></a>df.cru<span class="fl">.15</span> <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">pcn =</span> cru.noro<span class="fl">.15</span>[,<span class="dv">6</span>],</span>
<span id="cb4-6"><a href="infection-data.html#cb4-6" tabindex="-1"></a>                          <span class="at">pcd =</span> cru.noro<span class="fl">.15</span>[,<span class="dv">7</span>],</span>
<span id="cb4-7"><a href="infection-data.html#cb4-7" tabindex="-1"></a>                          <span class="at">ccn =</span> cru.noro<span class="fl">.15</span>[,<span class="dv">9</span>],</span>
<span id="cb4-8"><a href="infection-data.html#cb4-8" tabindex="-1"></a>                          <span class="at">ccd =</span> cru.noro<span class="fl">.15</span>[,<span class="dv">10</span>])</span>
<span id="cb4-9"><a href="infection-data.html#cb4-9" tabindex="-1"></a>df.cru<span class="fl">.16</span> <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">pcn =</span> cru.noro<span class="fl">.16</span>[,<span class="dv">6</span>],</span>
<span id="cb4-10"><a href="infection-data.html#cb4-10" tabindex="-1"></a>                        <span class="at">pcd =</span> cru.noro<span class="fl">.16</span>[,<span class="dv">7</span>],</span>
<span id="cb4-11"><a href="infection-data.html#cb4-11" tabindex="-1"></a>                        <span class="at">ccn =</span> cru.noro<span class="fl">.16</span>[,<span class="dv">9</span>],</span>
<span id="cb4-12"><a href="infection-data.html#cb4-12" tabindex="-1"></a>                        <span class="at">ccd =</span> cru.noro<span class="fl">.16</span>[,<span class="dv">10</span>])</span>
<span id="cb4-13"><a href="infection-data.html#cb4-13" tabindex="-1"></a>df.cru<span class="fl">.17</span> <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">pcn =</span> cru.noro<span class="fl">.17</span>[,<span class="dv">6</span>],</span>
<span id="cb4-14"><a href="infection-data.html#cb4-14" tabindex="-1"></a>                        <span class="at">pcd =</span> cru.noro<span class="fl">.17</span>[,<span class="dv">7</span>],</span>
<span id="cb4-15"><a href="infection-data.html#cb4-15" tabindex="-1"></a>                        <span class="at">ccn =</span> cru.noro<span class="fl">.17</span>[,<span class="dv">9</span>],</span>
<span id="cb4-16"><a href="infection-data.html#cb4-16" tabindex="-1"></a>                        <span class="at">ccd =</span> cru.noro<span class="fl">.17</span>[,<span class="dv">10</span>])</span>
<span id="cb4-17"><a href="infection-data.html#cb4-17" tabindex="-1"></a>df.cru<span class="fl">.18</span> <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">pcn =</span> cru.noro<span class="fl">.18</span>[,<span class="dv">6</span>],</span>
<span id="cb4-18"><a href="infection-data.html#cb4-18" tabindex="-1"></a>                        <span class="at">pcd =</span> cru.noro<span class="fl">.18</span>[,<span class="dv">7</span>],</span>
<span id="cb4-19"><a href="infection-data.html#cb4-19" tabindex="-1"></a>                        <span class="at">ccn =</span> cru.noro<span class="fl">.18</span>[,<span class="dv">9</span>],</span>
<span id="cb4-20"><a href="infection-data.html#cb4-20" tabindex="-1"></a>                        <span class="at">ccd =</span> cru.noro<span class="fl">.18</span>[,<span class="dv">10</span>])</span>
<span id="cb4-21"><a href="infection-data.html#cb4-21" tabindex="-1"></a>df.cru<span class="fl">.19</span> <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">pcn =</span> cru.noro<span class="fl">.19</span>[,<span class="dv">6</span>],</span>
<span id="cb4-22"><a href="infection-data.html#cb4-22" tabindex="-1"></a>                        <span class="at">pcd =</span> cru.noro<span class="fl">.19</span>[,<span class="dv">7</span>],</span>
<span id="cb4-23"><a href="infection-data.html#cb4-23" tabindex="-1"></a>                        <span class="at">ccn =</span> cru.noro<span class="fl">.19</span>[,<span class="dv">9</span>],</span>
<span id="cb4-24"><a href="infection-data.html#cb4-24" tabindex="-1"></a>                        <span class="at">ccd =</span> cru.noro<span class="fl">.19</span>[,<span class="dv">10</span>])</span>
<span id="cb4-25"><a href="infection-data.html#cb4-25" tabindex="-1"></a></span>
<span id="cb4-26"><a href="infection-data.html#cb4-26" tabindex="-1"></a><span class="fu">head</span>(df.cru<span class="fl">.14</span>)</span></code></pre></div>
<pre><code>##                                 pcn                                 pcd
## 1 Case_Counts_Numerator(Passengers) Case_Counts_Denominator(Passengers)
## 2                               158                               3,009
## 3                               122                               3,161
## 4                                97                               2,120
## 5                               111                               2,122
## 6                                65                               1,096
##                           ccn                           ccd
## 1 Case_Counts_Numerator(Crew) Case_Counts_Denominator(Crew)
## 2                          14                         1,160
## 3                          30                         1,176
## 4                           8                           808
## 5                           6                           790
## 6                           8                           569</code></pre>
<p>The top row of each column contains the descriptions of the columns rather than any usable data, so we’ll remove those:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="infection-data.html#cb6-1" tabindex="-1"></a>df.cru<span class="fl">.14</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.14</span>[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>),]</span>
<span id="cb6-2"><a href="infection-data.html#cb6-2" tabindex="-1"></a>df.cru<span class="fl">.15</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.15</span>[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>),]</span>
<span id="cb6-3"><a href="infection-data.html#cb6-3" tabindex="-1"></a>df.cru<span class="fl">.16</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.16</span>[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>),]</span>
<span id="cb6-4"><a href="infection-data.html#cb6-4" tabindex="-1"></a>df.cru<span class="fl">.17</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.17</span>[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>),]</span>
<span id="cb6-5"><a href="infection-data.html#cb6-5" tabindex="-1"></a>df.cru<span class="fl">.18</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.18</span>[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>),]</span>
<span id="cb6-6"><a href="infection-data.html#cb6-6" tabindex="-1"></a>df.cru<span class="fl">.19</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.19</span>[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>),]</span>
<span id="cb6-7"><a href="infection-data.html#cb6-7" tabindex="-1"></a></span>
<span id="cb6-8"><a href="infection-data.html#cb6-8" tabindex="-1"></a><span class="fu">head</span>(df.cru<span class="fl">.14</span>c)</span></code></pre></div>
<pre><code>##   pcn   pcd ccn   ccd
## 2 158 3,009  14 1,160
## 3 122 3,161  30 1,176
## 4  97 2,120   8   808
## 5 111 2,122   6   790
## 6  65 1,096   8   569
## 7 114 1,273  10   575</code></pre>
<p>The numeric data includes commas to denote 1000s, while we can declare prefixes before working with the data to ensure these aren’t a problem, it’s more convenient for future troubleshooting of errors to not have them involved in our data frames.</p>
<p>We’ll remove them by using the <code>gsub</code> command and “replacing” our commas with nothing.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="infection-data.html#cb8-1" tabindex="-1"></a>df.cru<span class="fl">.14</span>c<span class="sc">$</span>pcd <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&quot;,&quot;</span>,<span class="st">&quot;&quot;</span>, df.cru<span class="fl">.14</span>c<span class="sc">$</span>pcd)</span>
<span id="cb8-2"><a href="infection-data.html#cb8-2" tabindex="-1"></a>df.cru<span class="fl">.14</span>c<span class="sc">$</span>ccd <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&quot;,&quot;</span>,<span class="st">&quot;&quot;</span>, df.cru<span class="fl">.14</span>c<span class="sc">$</span>ccd)</span>
<span id="cb8-3"><a href="infection-data.html#cb8-3" tabindex="-1"></a></span>
<span id="cb8-4"><a href="infection-data.html#cb8-4" tabindex="-1"></a>df.cru<span class="fl">.15</span>c<span class="sc">$</span>pcd <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&quot;,&quot;</span>,<span class="st">&quot;&quot;</span>, df.cru<span class="fl">.15</span>c<span class="sc">$</span>pcd)</span>
<span id="cb8-5"><a href="infection-data.html#cb8-5" tabindex="-1"></a>df.cru<span class="fl">.15</span>c<span class="sc">$</span>ccd <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&quot;,&quot;</span>,<span class="st">&quot;&quot;</span>, df.cru<span class="fl">.15</span>c<span class="sc">$</span>ccd)</span>
<span id="cb8-6"><a href="infection-data.html#cb8-6" tabindex="-1"></a></span>
<span id="cb8-7"><a href="infection-data.html#cb8-7" tabindex="-1"></a>df.cru<span class="fl">.16</span>c<span class="sc">$</span>pcd <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&quot;,&quot;</span>,<span class="st">&quot;&quot;</span>, df.cru<span class="fl">.16</span>c<span class="sc">$</span>pcd)</span>
<span id="cb8-8"><a href="infection-data.html#cb8-8" tabindex="-1"></a>df.cru<span class="fl">.16</span>c<span class="sc">$</span>ccd <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&quot;,&quot;</span>,<span class="st">&quot;&quot;</span>, df.cru<span class="fl">.16</span>c<span class="sc">$</span>ccd)</span>
<span id="cb8-9"><a href="infection-data.html#cb8-9" tabindex="-1"></a></span>
<span id="cb8-10"><a href="infection-data.html#cb8-10" tabindex="-1"></a>df.cru<span class="fl">.17</span>c<span class="sc">$</span>pcd <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&quot;,&quot;</span>,<span class="st">&quot;&quot;</span>, df.cru<span class="fl">.17</span>c<span class="sc">$</span>pcd)</span>
<span id="cb8-11"><a href="infection-data.html#cb8-11" tabindex="-1"></a>df.cru<span class="fl">.17</span>c<span class="sc">$</span>ccd <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&quot;,&quot;</span>,<span class="st">&quot;&quot;</span>, df.cru<span class="fl">.17</span>c<span class="sc">$</span>ccd)</span>
<span id="cb8-12"><a href="infection-data.html#cb8-12" tabindex="-1"></a></span>
<span id="cb8-13"><a href="infection-data.html#cb8-13" tabindex="-1"></a>df.cru<span class="fl">.18</span>c<span class="sc">$</span>pcd <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&quot;,&quot;</span>,<span class="st">&quot;&quot;</span>, df.cru<span class="fl">.18</span>c<span class="sc">$</span>pcd)</span>
<span id="cb8-14"><a href="infection-data.html#cb8-14" tabindex="-1"></a>df.cru<span class="fl">.18</span>c<span class="sc">$</span>ccd <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&quot;,&quot;</span>,<span class="st">&quot;&quot;</span>, df.cru<span class="fl">.18</span>c<span class="sc">$</span>ccd)</span>
<span id="cb8-15"><a href="infection-data.html#cb8-15" tabindex="-1"></a></span>
<span id="cb8-16"><a href="infection-data.html#cb8-16" tabindex="-1"></a>df.cru<span class="fl">.19</span>c<span class="sc">$</span>pcd <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&quot;,&quot;</span>,<span class="st">&quot;&quot;</span>, df.cru<span class="fl">.19</span>c<span class="sc">$</span>pcd)</span>
<span id="cb8-17"><a href="infection-data.html#cb8-17" tabindex="-1"></a>df.cru<span class="fl">.19</span>c<span class="sc">$</span>ccd <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">&quot;,&quot;</span>,<span class="st">&quot;&quot;</span>, df.cru<span class="fl">.19</span>c<span class="sc">$</span>ccd)</span>
<span id="cb8-18"><a href="infection-data.html#cb8-18" tabindex="-1"></a></span>
<span id="cb8-19"><a href="infection-data.html#cb8-19" tabindex="-1"></a><span class="fu">head</span>(df.cru<span class="fl">.19</span>c)</span></code></pre></div>
<pre><code>##   pcn  pcd ccn  ccd
## 2 127 3602   6 1769
## 3  83 2251  10  610
## 4  85 2166  10  612
## 5 117 2055   8  610
## 6  17 3241  35 1158
## 7  36 1066   4  763</code></pre>
<div id="infection-totals-and-rate" class="section level3 unnumbered hasAnchor">
<h3>Infection Totals and Rate<a href="infection-data.html#infection-totals-and-rate" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Our basic infection data is now sufficiently cleaned up to begin organizing it into more useful formats.</p>
<p>Next we’ll compute the infection rate, which, as our labels of the data suggests, follows a simple rate of change format:</p>
<p><span class="math display">\[
Rate = {Cases \over Total}
\]</span></p>
<p>The code below generates a total count column across all voyages for each individual sheet:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="infection-data.html#cb10-1" tabindex="-1"></a>df.cru<span class="fl">.14</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.14</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">tcn =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.14</span>c<span class="sc">$</span>pcn) <span class="sc">+</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.14</span>c<span class="sc">$</span>ccn))</span>
<span id="cb10-2"><a href="infection-data.html#cb10-2" tabindex="-1"></a>df.cru<span class="fl">.14</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.14</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">tcd =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.14</span>c<span class="sc">$</span>pcd) <span class="sc">+</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.14</span>c<span class="sc">$</span>ccd))</span>
<span id="cb10-3"><a href="infection-data.html#cb10-3" tabindex="-1"></a></span>
<span id="cb10-4"><a href="infection-data.html#cb10-4" tabindex="-1"></a>df.cru<span class="fl">.15</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.15</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">tcn =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.15</span>c<span class="sc">$</span>pcn) <span class="sc">+</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.15</span>c<span class="sc">$</span>ccn))</span>
<span id="cb10-5"><a href="infection-data.html#cb10-5" tabindex="-1"></a>df.cru<span class="fl">.15</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.15</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">tcd =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.15</span>c<span class="sc">$</span>pcd) <span class="sc">+</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.15</span>c<span class="sc">$</span>ccd))</span>
<span id="cb10-6"><a href="infection-data.html#cb10-6" tabindex="-1"></a></span>
<span id="cb10-7"><a href="infection-data.html#cb10-7" tabindex="-1"></a>df.cru<span class="fl">.16</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.16</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">tcn =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.16</span>c<span class="sc">$</span>pcn) <span class="sc">+</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.16</span>c<span class="sc">$</span>ccn))</span>
<span id="cb10-8"><a href="infection-data.html#cb10-8" tabindex="-1"></a>df.cru<span class="fl">.16</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.16</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">tcd =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.16</span>c<span class="sc">$</span>pcd) <span class="sc">+</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.16</span>c<span class="sc">$</span>ccd))</span>
<span id="cb10-9"><a href="infection-data.html#cb10-9" tabindex="-1"></a></span>
<span id="cb10-10"><a href="infection-data.html#cb10-10" tabindex="-1"></a>df.cru<span class="fl">.17</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.17</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">tcn =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.17</span>c<span class="sc">$</span>pcn) <span class="sc">+</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.17</span>c<span class="sc">$</span>ccn))</span>
<span id="cb10-11"><a href="infection-data.html#cb10-11" tabindex="-1"></a>df.cru<span class="fl">.17</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.17</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">tcd =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.17</span>c<span class="sc">$</span>pcd) <span class="sc">+</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.17</span>c<span class="sc">$</span>ccd))</span>
<span id="cb10-12"><a href="infection-data.html#cb10-12" tabindex="-1"></a></span>
<span id="cb10-13"><a href="infection-data.html#cb10-13" tabindex="-1"></a>df.cru<span class="fl">.18</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.18</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">tcn =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.18</span>c<span class="sc">$</span>pcn) <span class="sc">+</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.18</span>c<span class="sc">$</span>ccn))</span>
<span id="cb10-14"><a href="infection-data.html#cb10-14" tabindex="-1"></a>df.cru<span class="fl">.18</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.18</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">tcd =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.18</span>c<span class="sc">$</span>pcd) <span class="sc">+</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.18</span>c<span class="sc">$</span>ccd))</span>
<span id="cb10-15"><a href="infection-data.html#cb10-15" tabindex="-1"></a></span>
<span id="cb10-16"><a href="infection-data.html#cb10-16" tabindex="-1"></a>df.cru<span class="fl">.19</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.19</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">tcn =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.19</span>c<span class="sc">$</span>pcn) <span class="sc">+</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.19</span>c<span class="sc">$</span>ccn))</span>
<span id="cb10-17"><a href="infection-data.html#cb10-17" tabindex="-1"></a>df.cru<span class="fl">.19</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.19</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">tcd =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.19</span>c<span class="sc">$</span>pcd) <span class="sc">+</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.19</span>c<span class="sc">$</span>ccd))</span></code></pre></div>
<p>This code block computes the rate of infection:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="infection-data.html#cb11-1" tabindex="-1"></a>df.cru<span class="fl">.14</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.14</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">pc =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.14</span>c<span class="sc">$</span>pcn) <span class="sc">/</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.14</span>c<span class="sc">$</span>pcd))</span>
<span id="cb11-2"><a href="infection-data.html#cb11-2" tabindex="-1"></a>df.cru<span class="fl">.14</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.14</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">cc =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.14</span>c<span class="sc">$</span>ccn) <span class="sc">/</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.14</span>c<span class="sc">$</span>ccd))</span>
<span id="cb11-3"><a href="infection-data.html#cb11-3" tabindex="-1"></a>df.cru<span class="fl">.14</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.14</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">tc =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.14</span>c<span class="sc">$</span>tcn) <span class="sc">/</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.14</span>c<span class="sc">$</span>tcd))</span>
<span id="cb11-4"><a href="infection-data.html#cb11-4" tabindex="-1"></a></span>
<span id="cb11-5"><a href="infection-data.html#cb11-5" tabindex="-1"></a>df.cru<span class="fl">.15</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.15</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">pc =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.15</span>c<span class="sc">$</span>pcn) <span class="sc">/</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.15</span>c<span class="sc">$</span>pcd))</span>
<span id="cb11-6"><a href="infection-data.html#cb11-6" tabindex="-1"></a>df.cru<span class="fl">.15</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.15</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">cc =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.15</span>c<span class="sc">$</span>ccn) <span class="sc">/</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.15</span>c<span class="sc">$</span>ccd))</span>
<span id="cb11-7"><a href="infection-data.html#cb11-7" tabindex="-1"></a>df.cru<span class="fl">.15</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.15</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">tc =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.15</span>c<span class="sc">$</span>tcn) <span class="sc">/</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.15</span>c<span class="sc">$</span>tcd))</span>
<span id="cb11-8"><a href="infection-data.html#cb11-8" tabindex="-1"></a></span>
<span id="cb11-9"><a href="infection-data.html#cb11-9" tabindex="-1"></a>df.cru<span class="fl">.16</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.16</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">pc =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.16</span>c<span class="sc">$</span>pcn) <span class="sc">/</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.16</span>c<span class="sc">$</span>pcd))</span>
<span id="cb11-10"><a href="infection-data.html#cb11-10" tabindex="-1"></a>df.cru<span class="fl">.16</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.16</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">cc =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.16</span>c<span class="sc">$</span>ccn) <span class="sc">/</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.16</span>c<span class="sc">$</span>ccd))</span>
<span id="cb11-11"><a href="infection-data.html#cb11-11" tabindex="-1"></a>df.cru<span class="fl">.16</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.16</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">tc =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.16</span>c<span class="sc">$</span>tcn) <span class="sc">/</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.16</span>c<span class="sc">$</span>tcd))</span>
<span id="cb11-12"><a href="infection-data.html#cb11-12" tabindex="-1"></a></span>
<span id="cb11-13"><a href="infection-data.html#cb11-13" tabindex="-1"></a>df.cru<span class="fl">.17</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.17</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">pc =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.17</span>c<span class="sc">$</span>pcn) <span class="sc">/</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.17</span>c<span class="sc">$</span>pcd))</span>
<span id="cb11-14"><a href="infection-data.html#cb11-14" tabindex="-1"></a>df.cru<span class="fl">.17</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.17</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">cc =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.17</span>c<span class="sc">$</span>ccn) <span class="sc">/</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.17</span>c<span class="sc">$</span>ccd))</span>
<span id="cb11-15"><a href="infection-data.html#cb11-15" tabindex="-1"></a>df.cru<span class="fl">.17</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.17</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">tc =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.17</span>c<span class="sc">$</span>tcn) <span class="sc">/</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.17</span>c<span class="sc">$</span>tcd))</span>
<span id="cb11-16"><a href="infection-data.html#cb11-16" tabindex="-1"></a></span>
<span id="cb11-17"><a href="infection-data.html#cb11-17" tabindex="-1"></a>df.cru<span class="fl">.18</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.18</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">pc =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.18</span>c<span class="sc">$</span>pcn) <span class="sc">/</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.18</span>c<span class="sc">$</span>pcd))</span>
<span id="cb11-18"><a href="infection-data.html#cb11-18" tabindex="-1"></a>df.cru<span class="fl">.18</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.18</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">cc =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.18</span>c<span class="sc">$</span>ccn) <span class="sc">/</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.18</span>c<span class="sc">$</span>ccd))</span>
<span id="cb11-19"><a href="infection-data.html#cb11-19" tabindex="-1"></a>df.cru<span class="fl">.18</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.18</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">tc =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.18</span>c<span class="sc">$</span>tcn) <span class="sc">/</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.18</span>c<span class="sc">$</span>tcd))</span>
<span id="cb11-20"><a href="infection-data.html#cb11-20" tabindex="-1"></a></span>
<span id="cb11-21"><a href="infection-data.html#cb11-21" tabindex="-1"></a>df.cru<span class="fl">.19</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.19</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">pc =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.19</span>c<span class="sc">$</span>pcn) <span class="sc">/</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.19</span>c<span class="sc">$</span>pcd))</span>
<span id="cb11-22"><a href="infection-data.html#cb11-22" tabindex="-1"></a>df.cru<span class="fl">.19</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.19</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">cc =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.19</span>c<span class="sc">$</span>ccn) <span class="sc">/</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.19</span>c<span class="sc">$</span>ccd))</span>
<span id="cb11-23"><a href="infection-data.html#cb11-23" tabindex="-1"></a>df.cru<span class="fl">.19</span>c <span class="ot">&lt;-</span> df.cru<span class="fl">.19</span>c <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">tc =</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.19</span>c<span class="sc">$</span>tcn) <span class="sc">/</span> <span class="fu">as.numeric</span>(df.cru<span class="fl">.19</span>c<span class="sc">$</span>tcd))</span></code></pre></div>
</div>
<div id="sectioning-off-data" class="section level3 unnumbered hasAnchor">
<h3>Sectioning Off Data<a href="infection-data.html#sectioning-off-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now we’ll pull the relevant columns out of our data frames and place them into vectors for later use in our models.</p>
<p>It should be noted that this is not an “absolute” methodology for working with data in R, so long as the data ends up in the intended places and serves the intended purpose any method for getting it to that point can be used.</p>
<p>Below you’ll see us first pull our infection rates, then our “sizes” which is our nomenclature of sample population for the purpose of this project (total passenger and crew counts), and our total cases.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="infection-data.html#cb12-1" tabindex="-1"></a><span class="co"># vector of infection rates</span></span>
<span id="cb12-2"><a href="infection-data.html#cb12-2" tabindex="-1"></a>cru.rate <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">tc.14 =</span> df.cru<span class="fl">.14</span>c<span class="sc">$</span>tc,</span>
<span id="cb12-3"><a href="infection-data.html#cb12-3" tabindex="-1"></a>                <span class="at">tc.15 =</span> df.cru<span class="fl">.15</span>c<span class="sc">$</span>tc,</span>
<span id="cb12-4"><a href="infection-data.html#cb12-4" tabindex="-1"></a>                <span class="at">tc.16 =</span> df.cru<span class="fl">.16</span>c<span class="sc">$</span>tc,</span>
<span id="cb12-5"><a href="infection-data.html#cb12-5" tabindex="-1"></a>                <span class="at">tc.17 =</span> df.cru<span class="fl">.17</span>c<span class="sc">$</span>tc,</span>
<span id="cb12-6"><a href="infection-data.html#cb12-6" tabindex="-1"></a>                <span class="at">tc.18 =</span> df.cru<span class="fl">.18</span>c<span class="sc">$</span>tc,</span>
<span id="cb12-7"><a href="infection-data.html#cb12-7" tabindex="-1"></a>                <span class="at">tc.19 =</span> df.cru<span class="fl">.19</span>c<span class="sc">$</span>tc)</span>
<span id="cb12-8"><a href="infection-data.html#cb12-8" tabindex="-1"></a></span>
<span id="cb12-9"><a href="infection-data.html#cb12-9" tabindex="-1"></a><span class="co"># vector of cruise sizes in the vsp data</span></span>
<span id="cb12-10"><a href="infection-data.html#cb12-10" tabindex="-1"></a>Ac.size <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">tc.14 =</span> df.cru<span class="fl">.14</span>c<span class="sc">$</span>tcd,</span>
<span id="cb12-11"><a href="infection-data.html#cb12-11" tabindex="-1"></a>             <span class="at">tc.15 =</span> df.cru<span class="fl">.15</span>c<span class="sc">$</span>tcd,</span>
<span id="cb12-12"><a href="infection-data.html#cb12-12" tabindex="-1"></a>             <span class="at">tc.16 =</span> df.cru<span class="fl">.16</span>c<span class="sc">$</span>tcd,</span>
<span id="cb12-13"><a href="infection-data.html#cb12-13" tabindex="-1"></a>             <span class="at">tc.17 =</span> df.cru<span class="fl">.17</span>c<span class="sc">$</span>tcd,</span>
<span id="cb12-14"><a href="infection-data.html#cb12-14" tabindex="-1"></a>             <span class="at">tc.18 =</span> df.cru<span class="fl">.18</span>c<span class="sc">$</span>tcd,</span>
<span id="cb12-15"><a href="infection-data.html#cb12-15" tabindex="-1"></a>             <span class="at">tc.19 =</span> df.cru<span class="fl">.19</span>c<span class="sc">$</span>tcd)</span>
<span id="cb12-16"><a href="infection-data.html#cb12-16" tabindex="-1"></a></span>
<span id="cb12-17"><a href="infection-data.html#cb12-17" tabindex="-1"></a><span class="co"># vector of case counts in the vsp data</span></span>
<span id="cb12-18"><a href="infection-data.html#cb12-18" tabindex="-1"></a>Ac.cases <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">tc.14 =</span> df.cru<span class="fl">.14</span>c<span class="sc">$</span>tcn,</span>
<span id="cb12-19"><a href="infection-data.html#cb12-19" tabindex="-1"></a>              <span class="at">tc.15 =</span> df.cru<span class="fl">.15</span>c<span class="sc">$</span>tcn,</span>
<span id="cb12-20"><a href="infection-data.html#cb12-20" tabindex="-1"></a>              <span class="at">tc.16 =</span> df.cru<span class="fl">.16</span>c<span class="sc">$</span>tcn,</span>
<span id="cb12-21"><a href="infection-data.html#cb12-21" tabindex="-1"></a>              <span class="at">tc.17 =</span> df.cru<span class="fl">.17</span>c<span class="sc">$</span>tcn,</span>
<span id="cb12-22"><a href="infection-data.html#cb12-22" tabindex="-1"></a>              <span class="at">tc.18 =</span> df.cru<span class="fl">.18</span>c<span class="sc">$</span>tcn,</span>
<span id="cb12-23"><a href="infection-data.html#cb12-23" tabindex="-1"></a>              <span class="at">tc.19 =</span> df.cru<span class="fl">.19</span>c<span class="sc">$</span>tcn)</span></code></pre></div>
<p>With this we can say that our disease data is set up for our model. We’ll move on to our other model components.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="acquisition.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="temporal-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "none"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
